{% load humanize %}

<tr id="tr_site_material_{{ site_material.id }}" class="white tr_hover">
    <td id="td_site_material_symbol_{{ site_material.id }}" class="{% if edit %}right_click_menu{% endif %}" row_id="{{ site_material.id }}" style="text-align: center"><span>{{ n }}</span></td>
    <td class="ClickShowInfo" row_id="{{ site_material.id }}" field_name="name">
        {% if edit %}
            <a id="show_part_name_{{ site_material.id }}" class="style_title">
                {{ site_material.name|default_if_none:"" }}
            </a>
            <input
                id="edit_part_name_{{ site_material.id }}"
                type="text" class="BlurUpdateInfo" style="display: none;"
                field_type="str"
                row_id="{{ site_material.id }}"
                placeholder="請輸入項目名稱"
                field_name="name"
                table_name="sitematerial"
                module_name='dailyreport'
                old_value="{{ site_material.name|default_if_none:"" }}"
                value="{{ site_material.name|default_if_none:"" }}"/>
        {% else %}
            <span>{{ site_material.name|default_if_none:"" }}</span>
        {% endif %}
    </td>
    <td style="text-align: center;" class="ClickShowInfo" row_id="{{ site_material.id }}" field_name="unit_name">
        {% if edit %}
            <a id="show_part_unit_name_{{ site_material.id }}" class="style_title">
                {{ site_material.unit_name|default_if_none:"" }}
            </a>
            <input
                id="edit_part_unit_name_{{ site_material.id }}"
                type="text" class="BlurUpdateInfo" style="text-align: center; display: none;"
                field_type="str"
                placeholder="請輸入單位"
                row_id="{{ site_material.id }}"
                field_name="unit_name"
                table_name="sitematerial"
                module_name='dailyreport'
                old_value="{{ site_material.unit_name|default_if_none:"" }}"
                value="{{ site_material.unit_name|default_if_none:"" }}"/>
        {% else %}
            <span>{{ site_material.unit_name|default_if_none:"" }}</span>
        {% endif %}
    </td>
    <td id="td_site_material_unit_num_{{ site_material.id }}" style="text-align: right;" class="ClickShowInfo" row_id="{{ site_material.id }}" field_name="unit_num">
        {% if edit %}
            <a id="show_part_unit_num_{{ site_material.id }}" class="style_title">
                {{ site_material.unit_num|floatformat:3|intcomma|default_if_none:"" }}
            </a>
            <input
                id="edit_part_unit_num_{{ site_material.id }}"
                type="text" class="recount_price BlurUpdateInfo" style="text-align: right; display: none;"
                field_type="float"
                row_id="{{ site_material.id }}"
                field_name="unit_num"
                table_name="sitematerial"
                module_name='dailyreport'
                old_value="{{ site_material.unit_num|default_if_none:"" }}"
                value="{{ site_material.unit_num|default_if_none:"" }}"/>
        {% else %}
            <span>{{ site_material.unit_num|floatformat:3|intcomma|default_if_none:"" }}</span>
        {% endif %}
    </td>
    <td style="text-align: right;" class="ClickShowInfo" row_id="{{ site_material.id }}" field_name="today_num">
        {% if edit %}
            <a id="show_part_today_num_{{ site_material.id }}" class="style_title">
                {{ site_material.today_num|floatformat:3|intcomma|default_if_none:"" }}
            </a>
            <input
                id="edit_part_today_num_{{ site_material.id }}"
                type="text" class="recount_price BlurUpdateInfo" style="text-align: right; display: none;"
                field_type="float"
                row_id="{{ site_material.id }}"
                field_name="today_num"
                table_name="sitematerial"
                module_name='dailyreport'
                old_value="{{ site_material.today_num|default_if_none:"" }}"
                value="{{ site_material.today_num|default_if_none:"" }}"/>
        {% else %}
            <span>{{ site_material.today_num|floatformat:3|intcomma|default_if_none:"" }}</span>
        {% endif %}
    </td>
    <td id="site_material_sum_num_{{ site_material.id }}" class="ClickShowInfo" row_id="{{ site_material.id }}" field_name="today_sum_num" style="text-align: right;">
        {% if edit %}
            <a id="show_part_today_sum_num_{{ site_material.id }}" class="style_title">
                {{ site_material.today_sum_num|floatformat:3|intcomma|default_if_none:"" }}
            </a>
            <input
                id="edit_part_today_sum_num_{{ site_material.id }}"
                type="text" class="recount_price BlurUpdateInfo" style="text-align: right; display: none;"
                field_type="float"
                row_id="{{ site_material.id }}"
                field_name="today_sum_num"
                table_name="sitematerial"
                module_name='dailyreport'
                old_value="{{ site_material.today_sum_num|default_if_none:"" }}"
                value="{{ site_material.today_sum_num|default_if_none:"" }}"/>
        {% else %}
            <span>{{ site_material.today_sum_num|floatformat:3|intcomma|default_if_none:"" }}</span>
        {% endif %}
    </td>
    <td class="ClickShowInfo" row_id="{{ site_material.id }}" field_name="note" >
        {% if edit %}
            <a id="show_part_note_{{ site_material.id }}" class="style_title">
                {{ site_material.note|default_if_none:"" }}
            </a>
            <input
                id="edit_part_note_{{ site_material.id }}"
                type="text" class="recount_price BlurUpdateInfo" style="display: none;"
                field_type="str"
                row_id="{{ site_material.id }}"
                field_name="note"
                table_name="sitematerial"
                module_name='dailyreport'
                old_value="{{ site_material.note|default_if_none:"" }}"
                value="{{ site_material.note|default_if_none:"" }}"/>
        {% else %}
            <span>{{ site_material.note|default_if_none:"" }}</span>
        {% endif %}
    </td>
    {% if edit %}
        <td>
            <button class="btn btn-mini btn-danger deleteRow" type="button" title="刪除此種類項目"
                module_name="dailyreport"
                table_name="sitematerial"
                row_id="{{ site_material.id }}"
                message="確定要刪除這個項目嗎？ 刪除後此項目將無法恢復!!! 請慎重考慮。" 
                remove_target="tr_site_material_{{ site_material.id }}">X</button>
        </td>
    {% endif %}
</tr>
